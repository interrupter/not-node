const { MODULE_NAME } = require("../const");

const Form = require("not-node").Form;

const FIELDS = [<% if (fields && Array.isArray(fields)) { %><% for(let field of fields){ %>["<%- field[0] %>", "<%- field[1] %>"],
	<% } %><% } %>];

const FORM_NAME = Form.createName();

//const validateTitle = require("./validators/title.js");
class _<%- ModelName %>Form extends Form {
	constructor({ app }) {
		super({ FIELDS, FORM_NAME, app });
	}

	//could do something with data, before validation
	async extract(data) {
		return data;
	}
	
	//fields validators are loaded automatically, form validators should be returned from here as an array
	getFormValidationRules() {
		return [
			//add validators here
			//validateTitle,
		];
	}
}

module.exports = _<%- ModelName %>Form;
